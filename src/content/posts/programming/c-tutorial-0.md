---
title: 从指针开始讲起的 C 语言教程 0
pubDate: 2024-07-21
description: 又一个另辟蹊径的 C 语言教程
tags:
  - programming
  - c
---
## 前言（若无基础，请跳过）

C 语言是一门十分简洁的语言，而且很容易学习。但是，它并不是一门纯粹意义上的 “高级语言”。在 C 语言中，你所写的大部分代码，都可以很容易地被人脑翻译成汇编语言。可以说，C语言只是汇编语言的一层「薄薄地抽象」。

C 语言只有 32 个关键字，却被认为比 Python 等高级语言更难学，这是因为 simplicity 和 complexity 的概念是不同的。

用 C 语言，就基本相当于直接操纵计算机本身。虽然这并不容易，但是它非常 **简洁**。毕竟，任何计算过程中你唯一能干的事情只有**读写内存，运算，跳转**这三件事，C 语言只不过是把这三件事给浅浅地包装了一下。

而用 Python 时，常常是跟一堆黑盒子打交道，它们把所有的底层细节封装了起来，你只需要搞懂怎么按这个黑盒子上的按钮就可以了。它很 **复杂**，但是使用它很简单。

这种区别并不十分 impressive，是和高中物理

因为我小时候学习的第一门语言是 Python，之后也学习了 Java, Haskell 和 C# 语言，因此，我在两三年前刚开始学习 C 语言的时候，对很多东西十分陌生。

为什么在 C 语言中，往函数中传数组时，我们之后就没法获取数组的长度了？而对同样是数组类型，对字符串，我们就可以用 `strlen` 获取到它的长度？`malloc` 到底有什么用？既然在内存中都是数字，那 C 语言的类型又是做什么的？`typedef` 声明指针的方式为何如此诡异？C 就不能面向对象吗？为什么 `#include <stdio.h>` 后能直接用里面的函数，但是 `#include "SDL.h"` 之后编译报错，难道这东西和 JS 的 import 不一样吗？`malloc` 是干什么的？`sizeof` “函数” 是干什么的？有人说数组就是指针？`inline` 内联速度更快？传值和传引用分别是什么意思？

这些东西当时困扰了我很久，其中许多的内容有经验的人可能会觉得十分好笑，但是对于一个初学者，这些问题是实实在在会令人迷惑的。一旦我们自己知道某样东西，我们就会发现很难想象不知道它的时候会是什么样子。

学过 C 之后，你就能 **降维打击** 一般地窥见其他任何非函数式编程语言的设计意图。例如 Java 中的装箱，C++ 的 RAII 都是为了什么而服务的。因为你在用底层的计算机的语言去思考。这就像有的学渣会去死记硬背化学方程式，而你掌握了底层的电子转移之类的原理。

因此，我打算用另一种方式。第一课先不讲 `hello world` ，不讲标准库中的乱七八糟。直接从计算机的原理讲起。

## 从 Brainfuck 开始

### 图灵完备性

基于冯诺伊曼架构的，也就是我们现在日常使用的计算机，运行的本源逻辑，都与名为「图灵机」的假想机器相同

设想有一条极长的纸带。


